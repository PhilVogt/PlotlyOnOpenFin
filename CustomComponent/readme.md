# App Plotly on OpenFin via Custom React components


## Purpose

This repository is a quick demonstration of client-side, cross-context communication between one or more Dash Plotly Apps running in the OpenFin container. This example uses React Components generated by the [Cookiecutter](https://github.com/audreyr/cookiecutter) template (you can use that to create your own Dash components). This example has 2 such components, "OpenfinContextPublisher" and the "OpenfinContextSubscriber".

## Disclaimer

This example code is meant to illustrate how one can acheive OpenFin / Dash Plotly integrations. It will not be regularly maintained or supported, and it is not intended to be used directly in a production capacity.

## Running

__Note;__ _this example requires the [OpenFin CLI](https://developers.openfin.co/of-docs/docs/openfin-cli-tool) and Python_

In one terminal instance start the Dash Plotly server:

```
python app.py
```

and elsewhere start OpenFin instead of a browser:

```
openfin -l -u http://127.0.0.1:8050/OpenFinPublisher
```

and

```
openfin -l -u http://127.0.0.1:8050/OpenFinSubscriber
```

## Summary of Functionality

The main Dash Plotly app is contained in the file _app.py_, and renders different content depending on the route specified in the address. The same functionality could also be achieved if the apps were completely separated on different Python instances.

The dropdown on `/OpenFinPublisher` uses the OpenfinContextPublisher (custom react component), which publishes on the openfin inter-application-bus (on a topic specified in your app.py).

Inside the `/OpenFinSubscriber` window, the OpenFinContextSubscriber creates a subscription on the same topic (also defined in the app.py), when a message is received it updates the OpenfinContextSubscriber currentContext. This value is passed into the figure property on the "graph-with-slider" graph object, which has the effect of changing the graph with the selected year.

You could use the [Cookiecutter](https://github.com/audreyr/cookiecutter) provided by Ploty/Dash to create all manor of OpenFin components. Some of which need not even have a UI component. A good example of an OpenFin component might be one that wraps the creation of OpenFin Notifications, it could take input of the body, title etc of the notification and whenever one of these properties changes in the python script, you could create an OpenFin Notification. 

__Note;__ For a detailed explanation of how to create your own components, please have a look [here](https://dash.plotly.com/plugins) at the official Dash documentation.
